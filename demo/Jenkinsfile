pipeline {
    agent any
    stages {
        stage('Initialize') {
            steps {
                echo 'setting...'   
                 bat 'set'
            }
        }
       stage('build') {
          steps {
             bat 'echo building....'
             bat 'gradle build'
               bat 'echo builded....'    
            
          }
       }
        stage('try') {
          steps {
             bat 'echo changing path....'
           //  bat 'cd E:\\git\\repo\\demo'
          //   bat 'gradle build'
               bat 'echo builded....'    
            
          }
       }
  stage('SonarQube analysis') {
  withSonarQubeEnv('clsd') {
      withCredentials([string(credentialsId: 'SONAR_TOKEN', variable: 'SONAR_TOKEN')]) {
          def scannerHome = tool 'SonarQubeScanner';
          env.PATH = "${scannerHome}\\bin;${env.PATH}";
          dir('X:\\cce\\SmartLisaNightly\\git\\smartlisa\\SmartLisaFrontend') {
              bat "sonar-scanner -Dsonar.login=$SONAR_TOKEN -Dproject.settings=..\\sonar_SmartLisaFrontend.properties -Dsonar.projectVersion=${env.BUILD_NUMBER}"
          }
      }
  }
}
   }
    }
    post { 
        always { 
             echo 'DONE!'
        }
    }
}
